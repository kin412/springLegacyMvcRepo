--게시판
CREATE TABLE "BOARD" 
(	"SEQ" NUMBER(5,0), 
"TITLE" VARCHAR2(200 BYTE), 
"WRITER" VARCHAR2(20 BYTE), 
"CONTENT" VARCHAR2(2000 BYTE), 
"REGDATE" DATE DEFAULT SYSDATE, 
"CNT" NUMBER(5,0) DEFAULT 0, 
PRIMARY KEY ("SEQ")
) ;

CREATE SEQUENCE BOARD_SEQ
       INCREMENT BY 1
       START WITH 1
       MINVALUE 1
       MAXVALUE 9999
       NOCYCLE
       NOCACHE
       NOORDER;
       
INSERT INTO BOARD (SEQ, TITLE, WRITER, CONTENT, REGDATE, CNT) VALUES (BOARD_SEQ.NEXTVAL, '테스트', '테스트작성자', '컨텐츠', SYSDATE, 0);


--회원정보
       
CREATE TABLE MEMBER(
	USERID VARCHAR2(50) NOT NULL PRIMARY KEY,
	USERPW VARCHAR2(100) NOT NULL ,
	USERNAME VARCHAR2(100) NOT NULL,
	REGDATE DATE DEFAULT SYSDATE,
	UPDATEDATE DATE DEFAULT SYSDATE,
	ENABLED CHAR(1) DEFAULT '1'
);

CREATE TABLE MEMBER_AUTH(
	USERID VARCHAR2(50) NOT NULL,
	AUTH VARCHAR2(50) NOT NULL,
	CONSTRAINT FK_MEMBER_AUTH FOREIGN KEY(USERID) REFERENCES MEMBER(USERID)
);

INSERT INTO MEMBER (USERID, USERPW, USERNAME, REGDATE) VALUES ('user', 'user', 'name', SYSDATE);
INSERT INTO MEMBER_AUTH (USERID, AUTH) VALUES ('user','ROLE_USER');
INSERT INTO MEMBER_AUTH (USERID, AUTH) VALUES ('user','ROLE_ADMIN');


--첨부파일
CREATE TABLE "ADMINFILE"
(	"SEQ" NUMBER(5,0),
	"REAL_FILE_NAME" VARCHAR2(200 BYTE),
	"CODE_FILE_NAME" VARCHAR2(200 BYTE),
	"REGDATE" DATE DEFAULT SYSDATE
);


--메뉴
CREATE TABLE MENU
(
  ID NUMBER(3,0) NOT NULL PRIMARY KEY,
  PARENT_ID NUMBER(3,0),
  NAME VARCHAR(255 BYTE) NOT NULL,
  LIST_ORDER NUMBER(3,0) NOT NULL,
  MENU_URL VARCHAR(255 BYTE) ,
  MENU_VISIBLE  VARCHAR(2 BYTE) NOT NULL,
  REGDATE VARCHAR(25) NOT NULL,
  CONSTRAINT PARENT_ID FOREIGN KEY(ID) REFERENCES MENU(ID)
);

--대메뉴
INSERT INTO MENU (ID, NAME, LIST_ORDER, MENU_VISIBLE, REGDATE) VALUES (1, '관리자', 1, 'Y', SYDATE);
INSERT INTO MENU (ID, NAME, LIST_ORDER, MENU_URL, MENU_VISIBLE, REGDATE) VALUES (2, 'MAIN', 2, '/main/main.do', 'Y', SYDATE);
INSERT INTO MENU (ID, NAME, LIST_ORDER, MENU_URL, MENU_VISIBLE, REGDATE) VALUES (3, 'AJAX', 3, '/ajax/ajaxMain.do', 'Y', SYDATE);
--소메뉴
INSERT INTO MENU (ID, PARENT_ID, NAME, LIST_ORDER, MENU_URL, MENU_VISIBLE, REGDATE) VALUES (4, 1, '첨부파일 테스트', 1, '/adminFileTest/adminFileTest.do', 'Y', SYDATE);
commit;